<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Load SSNAP data from CSV file into memory — ssnapcsv • ssnapinterface</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Load SSNAP data from CSV file into memory — ssnapcsv" />

<meta property="og:description" content="This function imports data from a csv file exported by
www.strokeaudit.org." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ssnapinterface</a>
        <span class="label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased package">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/SSNAP/SSNAPInterface">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Load SSNAP data from CSV file into memory</h1>
    <small class="dont-index">Source: <a href='https://github.com/SSNAP/SSNAPInterface/blob/master/R/ssnapcsv.R'><code>R/ssnapcsv.R</code></a></small>
    <div class="hidden name"><code>ssnapcsv.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function imports data from a csv file exported by
www.strokeaudit.org.</p>
    
    </div>

    <pre class="usage"><span class='fu'>ssnapcsv</span>(<span class='no'>filename</span>, <span class='no'>version</span>, <span class='kw'>ignore_fake_team_data</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>dont_warn_if_cols_missing</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>dates_munged_by_excel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>filename</th>
      <td><p>Filename of the CSV file to load.</p></td>
    </tr>
    <tr>
      <th>version</th>
      <td><p>A version string for the CSV file (currently we
only advise using "3.1.6", but any string is accepted without
error at present.)</p></td>
    </tr>
    <tr>
      <th>ignore_fake_team_data</th>
      <td><p>A boolean. By default (TRUE) any team
codes known to be fake or test team codes are skipped. If FALSE,
all teams are exported.</p></td>
    </tr>
    <tr>
      <th>dont_warn_if_cols_missing</th>
      <td><p>suppress warnings if columns are
missing. For SSNAP data most imports will not contain all columns
and you will be warned which ones are missing if this is FALSE.
When TRUE those warnings will be suppressed - at the possible
expense of missing genuine errors. So call this function with
dont_warn_if_cols_missing set to TRUE if you are debugging any data
import problems.</p></td>
    </tr>
    <tr>
      <th>dates_munged_by_excel</th>
      <td><p>If you open a CSV file in Excel and
save it (eg. to make a simple edit or remove rows) Excel decides to
change the date format into something else. By default we use the
standardised date format used by the SSNAP server. If however you
get errors because Excel has managed to munge the file, then set
dates_munged_by_excel to TRUE.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble containing the imported SSNAP data.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A version string for the SSNAP file is mandated. This is because
we don't have that information 'in the file'. At present that
version is 3.1.6. Keeping track of the CSV versions allows us to
convert obsolete versions of the data to be safe to analyse. This
is likely to be deprecated if/when we can be selective over which
columns we are loading.</p>
<p>Most SSNAP data exporting all teams will include a number of 'test'
or 'fake' teams. By default, we ignore these teams. If however you
need to include these teams (for example to test some new code,)
you can set ignore_fake_team_data to FALSE.</p>
<p>There are various versions of the SSNAP CSV file, some versions
have renamed columns which we need to handle by loading 'both'
possible column names. On the current version of SSNAPInterface,
this generates warnings when loading. You can suppress these
warnings by setting dont_warn_if_cols_missing to TRUE. In future,
it is hoped further development of SSNAPInterface will render this
need obsolete.</p>
<p>The normal CSV file follows the industry standard. Excel does not
follow these standards, and so if you edit the CSV file in Excel
it does not usually load. dates_munged_by_excel allows you to load
a file which Excel has 'munged'.</p>
<p>The data from the CSV file is optimised as described in the
overview.</p>
<p>S1PatientClockStartDateTime, S1TeamClockStartDateTime,
S7DeathDate and S7TeamClockStopDateTime are added so that we can
select cohorts using these fields.</p>
    
    <h2 class="hasAnchor" id="future-development-roadmap"><a class="anchor" href="#future-development-roadmap"></a>Future development roadmap</h2>

    
    <p>In future we also intend to pass the CSV file a list of the columns
that we want using SSNAPStats logic which will select the columns
based upon the measures. This should make processing times much
quicker, and will deprecate the version string.</p>
<p>We don't yet handle zip file encryption - but it should be
possible to pass in encrypted zips of CSV at a later stage,
improving data security by allowing the data to be stored in an
encrypted format.</p>
<p>In the more distant future dropping CSV altogether in favour of
encouraging direct access to the database would be preferable as
it would be significantly more secure and reduce the risk of
many copies of SSNAP data existing on users' machines.</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#future-development-roadmap">Future development roadmap</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.linkedin.com/in/andrew-hill-39437177/'>Andrew Hill</a>, <a href='https://www.linkedin.com/in/lizz-paley-b3a509155/'>Lizz Paley</a>, <a href='https://www.linkedin.com/in/victoria-mccurran-69b43b91/'>Victoria McCurran</a>, <a href='https://www.linkedin.com/in/ben-bray-a1380331/'>Ben Bray</a>, <a href='https://www.strokeaudit.org'><img src='https://www.strokeaudit.org/App_Themes/SSNAP/Images/SSNAPlogo.jpg?v=2'></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

